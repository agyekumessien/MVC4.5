
@model IEnumerable<MainProgram.Edm.Post>

@using PagedList.Mvc;
@using MainProgram.Core.Resources
@using MainProgram.Edm
@using Microsoft.AspNet.Identity
@using MainProgram.Models




@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/css/style.css" rel="stylesheet" />
<link href="~/Content/css/Custom.css" rel="stylesheet" />
<link href="~/Content/css/bootstrap.css" rel="stylesheet" />












<div class="content-wrapper" style="width: 20%; margin-left: 0px; width:100%; top:0px; background-image: url('../../Content/img/ApparelImages/back.jpg');">



    <!-- left sidebar-->


    <div class="left" style="width: 17%; float:left; top:0px; background-image: url('../../Content/img/ApparelImages/back.jpg');">
        <div class="Container">
            <div class="col-md-4">
                <div class="container">
                    <div class="panel panel-default" style="width: 22%">
                        <strong style="font-size:x-large"><b>Best Contributers</b></strong>
                        <div class=" panel-body  no-gutter">
                            <div col-md-4">
                                <div class="panel panel-default" style="width: 100%; margin-left: 0px;">

                                    @using (Html.BeginForm("Index", "Post", FormMethod.Get))
                                    {

                                    }
                                    <div class="table">
                                        <ul>
                                            <li>
                                                @Html.ActionLink("Post", "Index", new { sortOrder = ViewBag.NameSortParm, currentFilter = ViewBag.CurrentFilter })
                                            </li>
                                            <li>
                                                First Name
                                            </li>
                                            <li>
                                                @Html.ActionLink("PostDate", "Index", new { sortOrder = ViewBag.DateSortParm, currentFilter = ViewBag.CurrentFilter })
                                            </li>



                                            @{


                                                MainProgram.Edm.angulardemoEntities dbg3 = new MainProgram.Edm.angulardemoEntities();

                                                List<MainProgram.Edm.tbh_Replies> Modelq = dbg3.tbh_Replies.ToList();

                                                foreach (MainProgram.Edm.tbh_Replies item in Modelq)
                                                {
                                                    <li>
                                                        <br /><br />
                                                        <a href="@Url.Action("ChatRoom", "Post", new { id = item.ThreadId })" class="aa-cartbox-img"><img src="data:image;base64,@System.Convert.ToBase64String(@item.AspNetUser.UserPhoto)" width="60" height="60" style="padding-right:5px; margin-bottom:0px; padding-bottom:0px; border-radius:40px; text-align:left; float:left; vertical-align:sub" multiple /></a>
                                                        <a href="@Url.Action("ChatRoom", "Post", new { id = item.ThreadId })" class="aa-cartbox-img" style="text-align:left; font-family:Arial; font-size:12px; vertical-align:text-bottom" multiple>
                                                            @item.AspNetUser.UserName

                                                        </a>

                                                        <br />
                                                        <a href="@Url.Action("ChatRoom", "Post")">View</a>


                                                    </li>
                                                }
                                            }





                                        </ul>

                                    </div>






                                </div>
                            </div>







                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <!--End Of Left-->
    <!-- Right-->


    <div class="right"
         style="width: 21%; float:right; margin-right:8px; padding-right:8px; top:0px; background-image: url('../../Content/img/ApparelImages/back.jpg');">
        <div class="Container">
            <div class="col-md-4">
                <div class="container">
                    <div class="panel panel-default" style="width: 22%">
                        <strong style="font-size:x-large"><b>Best Contributers</b></strong>
                        <div class=" panel-body  no-gutter">
                            <div col-md-4">
                                <div class="panel panel-default" style="width: 100%; margin-left: 0px;">

                                    @using (Html.BeginForm("Index", "Post", FormMethod.Get))
                                    {

                                    }
                                    <div class="table">
                                        <ul>
                                            <li>
                                                @Html.ActionLink("Post", "Index", new { sortOrder = ViewBag.NameSortParm, currentFilter = ViewBag.CurrentFilter })
                                            </li>
                                            <li>
                                                First Name
                                            </li>
                                            <li>
                                                @Html.ActionLink("PostDate", "Index", new { sortOrder = ViewBag.DateSortParm, currentFilter = ViewBag.CurrentFilter })
                                            </li>



                                            @{


                                                MainProgram.Edm.angulardemoEntities dbgr = new MainProgram.Edm.angulardemoEntities();

                                                List<MainProgram.Edm.Thread> Modelr = dbgr.Threads.ToList();

                                                foreach (MainProgram.Edm.Thread item in Modelr)
                                                {
                                                    <li>
                                                        <a href="@Url.Action("ChatRoom", "Post", new { id = item.ThreadId })" class="aa-cartbox-img"><img src="data:image;base64,@System.Convert.ToBase64String(@item.AspNetUser.UserPhoto)" width="60" height="60" style="padding-right:5px; margin-bottom:0px; padding-bottom:0px; border-radius:40px; text-align:left; float:left; vertical-align:sub" multiple /></a>
                                                        <a href="@Url.Action("ChatRoom", "Post", new { id = item.ThreadId })" class="aa-cartbox-img" style="text-align:left; font-family:Arial; font-size:12px; vertical-align:text-bottom" multiple>
                                                            @item.AspNetUser.UserName

                                                        </a>

                                                        <br />
                                                        <a href="@Url.Action("ChatRoom", "Post")">View</a>


                                                    </li>
                                                }
                                            }





                                        </ul>

                                    </div>






                                </div>
                            </div>







                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!--End Of Right-->
    <!--MID Sidebar Main content-->
    <div class="Mid-sidebar" style="margin-right:10px; padding-right:0px; text-align:center">
        <strong style="font-size:x-large"><b>DISCUSSION ROOM</b></strong>



        <h2>Post</h2>

        <p>
            @Html.ActionLink("New Post", "Create", "Post")
        </p>
        <hr />
        <fieldset>




            <table class="table text-center;" style="width:100%; margin-left:0; text-align:center">
                @foreach (var thread in Model)
                {

                    <tr style="border:1px solid black">

                        <td>
                            <span>
                                <img src="data:image;base64,@System.Convert.ToBase64String(@thread.AspNetUser.UserPhoto)" width="60" height="60" style="padding-right:5px; margin-bottom:0px; padding-bottom:0px; border-radius:40px; text-align:left; float:left; vertical-align:sub" multiple />

                            </span>

                            <span style="margin-right:15px; font-size:16px; color:green">
                                @thread.AspNetUser.UserName
                            </span>

                            <span style="font-size:16px; margin-right:15px;">
                                @Html.DisplayFor(modelItem => thread.PostText)
                            </span>

                            <span>
                                @thread.CreatedOn
                            </span>
                            <br /><br />

                            @foreach (var reply in thread.tbh_DSReplies)
                            {
                                <br /><br /><br />
                                <span>
                                    <img src="data:image;base64,@System.Convert.ToBase64String(@reply.AspNetUser.UserPhoto)" width="60" height="60" style="padding-right:5px; margin-bottom:0px; padding-bottom:0px; border-radius:40px; text-align:left; float:left; vertical-align:sub" multiple />

                                </span>
                                <span style="margin-right:15px">
                                    @reply.AspNetUser.UserName
                                </span>

                                <span style="margin-right:15px; font-size:16px; color:green">
                                    @reply.DSReplyText
                                </span>
                                <span style="margin-right:15px; font-size:16px; color:green">
                                    @reply.CreatedOn
                                </span>
                            }
                            <br /><br />
                            @using (Html.BeginForm("PostReply", "ChatRoomDS", FormMethod.Post))
                            {
                                <form action="http://somesite.com/prog/someprog" method="post">
                                    <textarea type="text" name="Reply" id=" reply" required="required" maxlength="800" style="width:60%; height:100px; font-size:16px; margin-bottom:10px"></textarea>

                                    @* <input type="text" name="Reply" style="width:60%; height:100px; font-size:16px; margin-bottom:10px">*@
                                    <br />
                                    <input type="hidden" name="TID" value="@thread.PostId" />
                                    <input type="submit" value="post  reply" class="btn btn-default"
                                           styles="margin-top:10px">
                                </form>


                            @*   <textarea type="submit" name="TID" value="@thread.PostId" id="Reply" required="required" maxlength="800" style="width:60%; height:100px; font-size:16px; margin-bottom:10px"></textarea>
                                //<input type="text" name="Reply"  style="width:60%; height:100px; font-size:16px; margin-bottom:10px">
                                <br />
                                // <input type="hidden" name="TID" value="@thread.ThreadId" />
                                <a href="/Post/Details">
                                    <input type="submit" value="post  reply" class="btn btn-default"
                                           styles="margin-top:10px">
                                </a>*@
                            }


                        </td>




                    </tr>
                }

            </table>
        </fieldset>








    </div>











    <style>
        .content-wrapper {
            margin-top: 0%;
            margin-left: 0%;
            background-position: top;
        }

        #left {
            width: 20%;
            margin-left: 0%;
            margin-top: 0%;
            background-position: top;
            position: relative;
            background-color: #eee3e3;
        }



        .Mid-sidebar {
            content: " ";
            position: relative;
            margin-top: 0%;
            width: 60%;
            overflow: no-display;
            padding-right: 0px;
            margin-left: 20%;
            margin-right: 0%;
            background-position: top;
            margin-bottom: 0px;
            background-color: #fff;
        }


        .SiteT {
            width: 100%;
            border: none;
            margin-right: 0px;
            padding-right: 0px;
        }




        .main--container {
            margin-left: 17px;
        }
    </style>
</div>

</div>
